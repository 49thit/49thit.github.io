# frozen_string_literal: true

task default: :build

desc "Generate the JavaScript bundle"
task :build do
  system("npm", "run", "build:js") || abort("JavaScript build failed")
end

desc "Generate social crossposts"
task :crossposts do
  script = File.join(__dir__, "scripts", "generate_crossposts.rb")
  system("ruby", script) || abort("Crosspost generation failed")
end

desc "Interactive new episode wizard"
task :episode do
  script = File.join(__dir__, "scripts", "create_episode_post.rb")
  exec("ruby", script)
end

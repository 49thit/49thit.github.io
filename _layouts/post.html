---
layout: default
---
<article class="post-article">
  <header class="post-article__header">
    <h1 class="post-article__title">{{ page.title }}</h1>
  </header>
  <div class="post-article__content">
    {{ content }}
  </div>
  {% assign posts_with_episode = site.posts | where_exp: "p", "p.episode" %}
  {% if posts_with_episode and posts_with_episode.size > 0 %}
    {% assign ordered_posts = site.posts | sort: "episode" %}
  {% else %}
    {% assign ordered_posts = site.posts | sort: "title" %}
  {% endif %}
  {% assign found_current = false %}
  {% assign next_episode = nil %}
  {% for post in ordered_posts %}
    {% if found_current %}
      {% assign next_episode = post %}
      {% break %}
    {% endif %}
    {% if post.url == page.url %}
      {% assign found_current = true %}
    {% endif %}
  {% endfor %}
  {% if next_episode and page.title != "episodeNEXT" %}
  <footer class="post-article__footer">
    <a
      class="continue-panel__cta post-article__next-button"
      href="{{ next_episode.url | relative_url }}"
      aria-label="on to {{ next_episode.title | strip_html | escape }}"
    >
      <span class="post-article__next-button-sizer" aria-hidden="true">&nbsp;</span>
      <span class="post-article__next-button-content" aria-hidden="true">
        <span class="post-article__next-button-static">next up...</span>
        <span class="post-article__next-button-marquee">
          <span>{{ next_episode.title | strip_html | escape }}</span>
        </span>
      </span>
    </a>
  </footer>
  {% endif %}
</article>
